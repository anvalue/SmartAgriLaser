<launch>
  <!--打开节点dlrobot_robot，初始化串口等操作-->
  
  <arg name="slave_robot"  default=""/>     <!-- 从机节点、话题命名空间 -->
  <arg name="smoother"     default="false"/> <!-- 是否开启速度平滑功能 -->

  <!--打开节点dlrobot_robot，初始化串口等操作-->
  <node pkg="turn_on_dlrobot_robot" type="dlrobot_robot_node" name="dlrobot_robot" output="screen">
    <param name="usart_port_name"    type="string" value="/dev/dlrobot_controller"/>  
    <param name="serial_baud_rate"   type="int"    value="115200"/>
    <param name="odom_frame_id"     type="string" value="$(arg slave_robot)/odom_combined"/>
    <param name="robot_frame_id"     type="string" value="$(arg slave_robot)/base_footprint"/>
    <param name="gyro_frame_id"      type="string" value="$(arg slave_robot)/imu_link"/>
    <!-- 如果开启了平滑功能，则订阅平滑速度 -->
    <param name="linear_scale"       type="double" value="1.0" />
    <param name="use_ekf_location"   type="bool"   value="false" />
    <remap if="$(arg smoother)" from="cmd_vel" to="smoother_cmd_vel"/>
  </node>

  <include if="$(arg smoother)" 
    file="$(find turn_on_dlrobot_robot)/launch/include/velocity_smoother.launch" >
  </include>
  
</launch>


